{"version":3,"file":"builed.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACO;AACA;AACP;AACO;AACA;AACA;AACA;;;;;;;;;;;;;;;ACRsD;AACvB;AACS;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA,oBAAoB,4DAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,4DAAa,CAAC,kDAAiB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2DAAY,aAAa,GAAG,2DAAY,QAAQ,GAAG,2DAAY,QAAQ;AAClG,mCAAmC,4DAAa,CAAC,iDAAgB;AACjE,aAAa;AACb;AACA;AACA;AACA;AACA,2BAA2B,4DAAa;AACxC,SAAS;AACT;AACA;AACA;AACA,gCAAgC,2DAAY,aAAa,GAAG,2DAAY,QAAQ,GAAG,2DAAY,QAAQ;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2DAAY;AAC7B,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,4DAAY;AACZ;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;;;;;;ACvEA;AACO;AACP;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;AC1BsC;AACtC;AACA;AACA;AACA,iCAAiC,qDAAoB;AACrD;AACA;AACA;AACA;AACA;AACA,iCAAiC,2DAA0B;AAC3D;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;UCvBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACN+B","sources":["webpack://kinoteka/./src/js/consts.js","webpack://kinoteka/./src/js/generate-data.js","webpack://kinoteka/./src/js/randoming.js","webpack://kinoteka/./src/js/server-api.js","webpack://kinoteka/webpack/bootstrap","webpack://kinoteka/webpack/runtime/define property getters","webpack://kinoteka/webpack/runtime/hasOwnProperty shorthand","webpack://kinoteka/webpack/runtime/make namespace object","webpack://kinoteka/./src/webpack.js"],"sourcesContent":["\r\n// eec614f0\r\nexport const FILMS_API_URL = 'http://www.omdbapi.com?apikey=eec614f0&s=\"marvel\"';\r\nexport const DESCRIPTION_API_URL = 'https://jsonplaceholder.typicode.com/posts';\r\n\r\nexport const COUNTRIES = [\"USA\", \"Russia\", \"England\", \"France\", \"Germany\", \"Japan\", \"China\"];\r\nexport const EMOTIONS = [\"msmile\", \"sleeping\", \"puke\", \"angry\"];\r\nexport const AGE_RATING = ['0+', '6+', '12+', '16+', '18+'];\r\nexport const MAX_COMMENT_AMOUNT = 15;\r\n","import { getRandomElem, getRandomInt } from \"./randoming.js\";\r\nimport * as consts from \"./consts.js\";\r\nimport { getFilmsData } from \"./server-api.js\";\r\n\r\n\r\nfunction generateFilms(filmsNumber) {\r\n    generateFilms.filmsNumber = filmsNumber;\r\n    generateFilm.usedIds = [];\r\n\r\n    return Array.from({ length: filmsNumber }, () => generateFilm())\r\n}\r\n\r\nfunction generateFilm() {\r\n    const newFilm = getRandomElem(filmsData);\r\n    return {\r\n        \"id\": getUniqueId.call(generateFilm, generateFilms.filmsNumber),\r\n        \"comments\": [],\r\n        \"film_info\": {\r\n            \"title\": newFilm.Title,\r\n            \"alternative_title\": newFilm.imdbID,\r\n            \"total_rating\": Math.round(Math.random() * 5 * 10) / 10,\r\n            \"poster\": newFilm.Poster,\r\n            \"age_rating\": getRandomElem(consts.AGE_RATING),\r\n            \"director\": \"Super director\",\r\n            \"writers\": [\r\n                \"J.K.Rowling\"\r\n            ],\r\n            \"actors\": [\r\n                \"Margan Freeman\"\r\n            ],\r\n            \"release\": {\r\n                \"data\": `${getRandomInt(1960, 2023)}-${getRandomInt(1, 31)}-${getRandomInt(1, 12)}`,\r\n                \"release_country\": getRandomElem(consts.COUNTRIES),\r\n            },\r\n            \"runtime\": 77,\r\n            \"genre\": [\r\n                \"Comedy\"\r\n            ],\r\n            \"description\": getRandomElem(descriptionData),\r\n        },\r\n        \"user_details\": {\r\n            \"watchlist\": Boolean(Math.round(Math.random())),\r\n            \"aleady_watched\": Boolean(Math.round(Math.random())),\r\n            \"watching_data\": `${getRandomInt(1960, 2023)}-${getRandomInt(1, 31)}-${getRandomInt(1, 12)}`,\r\n            \"favorite\": Boolean(Math.round(Math.random()))\r\n        }\r\n    }\r\n}\r\n\r\nfunction getUniqueId(maxId) {\r\n    // Static var immitation\r\n    if (this.usedIds === undefined) {\r\n        this.usedIds = [];\r\n    }\r\n\r\n    // // Generate new id\r\n    let nextId;\r\n    do {\r\n        nextId = getRandomInt(0, maxId);\r\n    } while (this.usedIds.includes(nextId));\r\n    this.usedIds.push(nextId);\r\n\r\n    return nextId;\r\n}\r\n\r\nlet filmsData, descriptionData;\r\ngetFilmsData((responseFilms, responseDescription) => {\r\n    filmsData = responseFilms.Search;\r\n    descriptionData = responseDescription;\r\n    console.log(generateFilms(10));\r\n});\r\n\r\n","// random number\r\nexport function getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1) + min); // The maximum is inclusive and the minimum is inclusive\r\n};\r\n\r\n// get random number\r\nexport function getRandomElem(list) {\r\n    if (list.length) {\r\n        return list[getRandomInt(0, list.length - 1)];\r\n    };\r\n};\r\n\r\n// get random key\r\nexport function getRandomKey(dic) {\r\n    const list = [];\r\n    for (let key in dic) {\r\n        list.push(key);\r\n    };\r\n    return list[getRandomInt(0, list.length - 1)];\r\n}\r\n\r\n// shuffle an array\r\nexport function shuffle(array) {\r\n    array.sort(() => Math.random() - 0.5);\r\n}","import * as consts from \"./consts.js\";\r\n\r\n\r\nconst fetchFilms = async () => {\r\n    const response = await fetch(consts.FILMS_API_URL);\r\n    const data = await response.json();\r\n    return data;\r\n}\r\n\r\nconst fetchDescription = async () => {\r\n    const response = await fetch(consts.DESCRIPTION_API_URL);\r\n    const data = [...await response.json()].map(elem => elem.body);\r\n    return data;\r\n}\r\n\r\nexport const getFilmsData = async (onSuccess) => {\r\n    const films = await fetchFilms();\r\n    const description = await fetchDescription();\r\n    onSuccess(films, description);\r\n}\r\n\r\n\r\n\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./js/generate-data.js\";\r\n"],"names":[],"sourceRoot":""}